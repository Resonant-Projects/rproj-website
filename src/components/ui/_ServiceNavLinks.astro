---
import { Icon } from 'astro-icon/components';

interface ServiceNav {
  title: string;
  href: string;
  icon: string;
  description: string;
  isActive?: boolean;
}

export interface Props {
  services: ServiceNav[];
  classes: {
    container: string;
    item: string;
    content: string;
  };
  showDescriptions: boolean;
  variant: 'horizontal' | 'vertical' | 'grid';
  className?: string;
}

const { services, classes, showDescriptions, variant, className = '' } = Astro.props;
---

<nav aria-label="Service navigation" class={`service-navigation ${className}`}>
  <div class={classes.container}>
    {
      services.map(service => (
        <a
          href={service.href}
          class={`${classes.item} ${
            service.isActive ? 'text-primary-foreground border-primary bg-primary' : 'bg-card hover:border-primary/20'
          }`}
          aria-current={service.isActive ? 'page' : undefined}
          title={`${service.title}: ${service.description}`}
        >
          <Icon
            name={service.icon}
            class={`h-5 w-5 ${service.isActive ? 'text-primary-foreground' : 'text-primary'}`}
            aria-hidden="true"
          />

          <div class={classes.content}>
            <span class={`font-medium ${service.isActive ? 'text-primary-foreground' : 'text-foreground'}`}>
              {service.title}
            </span>

            {showDescriptions && variant !== 'horizontal' && (
              <p class={`mt-1 text-sm ${service.isActive ? 'text-primary-foreground/80' : 'text-muted-foreground'}`}>
                {service.description}
              </p>
            )}
          </div>
        </a>
      ))
    }
  </div>
</nav>
